## 스위핑 알고리즘 (Sweeping Algorithm)
스위핑 알고리즘은 2차원 공간에서 여러 개의 선분이나 점을 처리할 때 주로 사용되는 효율적인 알고리즘 기법입니다. 이 알고리즘은 주로 **기하학**적 문제, 예를 들어 **선분 교차** 여부 확인, 가장 가까운 점 찾기, **다각형의 교차** 등을 해결하는 데 사용됩니다. 하지만 스위핑 알고리즘은 기하학 이외의 분야에서도 널리 응용될 수 있습니다.

***

### 1. 스위핑 알고리즘의 개요
스위핑 알고리즘의 기본 개념은 가상의 '**스위핑 라인**'을 왼쪽에서 오른쪽으로 이동시키면서 중요한 이벤트를 처리하는 것입니다. 이 때 이벤트는 주로 점이나 선분의 시작 및 끝을 의미합니다. 스위핑 라인이 이동하면서 만나는 이벤트를 효율적으로 처리하여 문제를 해결합니다.
> 기본 개념

* **스위핑 라인** (Sweeping Line): 2차원 평면을 가로지르는 가상의 직선입니다. 주로 y축에 평행하게 설정하여 x축을 따라 이동시킵니다.
* **이벤트** (Event): 스위핑 라인이 만나게 되는 중요한 지점입니다. 주로 점의 위치, 선분의 시작과 끝 등이 이벤트가 됩니다.
* **이벤트 큐** (Event Queue): 이벤트를 정렬된 상태로 관리하는 우선순위 큐입니다. 주로 x좌표를 기준으로 정렬합니다.
* **활성 리스트** (Active List): 현재 스위핑 라인이 지나가고 있는 동안 교차 가능한 선분들을 관리하는 데이터 구조입니다. 주로 y좌표를 기준으로 정렬합니다.

***

### 2. 스위핑 알고리즘의 작동 원리
스위핑 알고리즘은 다음과 같은 단계로 작동합니다:
1. **이벤트 준비**: 모든 이벤트 (선분의 시작점과 끝점)를 이벤트 큐에 삽입합니다.
2. **이벤트 처리**: 이벤트 큐에서 이벤트를 하나씩 꺼내어 처리합니다.
    1. 선분의 시작점 이벤트: 해당 선분을 활성 리스트에 추가합니다.
    2. 선분의 끝점 이벤트: 해당 선분을 활성 리스트에서 제거합니다.
4. **교차 검사**: 활성 리스트에 있는 선분들 간의 교차 여부를 검사합니다. 
    1. 새로운 선분이 추가될 때, 상하 이웃 선분과의 교차 여부를 검사합니다.
    2. 선분이 제거될 때, 상하 이웃 선분 간의 교차 여부를 다시 검사합니다.

***

### 3. 스위핑 알고리즘의 응용 분야
스위핑 알고리즘은 기하학 문제 이외에도 다양한 분야에서 사용될 수 있습니다. 여기서는 몇 가지 대표적인 응용 분야를 소개합니다.
> 문자열 처리

문자열 검색과 일치 여부를 확인하는 문제에서도 스위핑 알고리즘이 사용될 수 있습니다. 예를 들어, 긴 텍스트에서 특정 패턴이 나타나는 모든 위치를 찾는 문제를 효율적으로 해결할 수 있습니다.

> 스케줄링 문제

작업 스케줄링 문제에서 각 작업의 시작 시간과 종료 시간을 이벤트로 처리하여 최적의 스케줄을 찾을 수 있습니다. 예를 들어, 여러 회의실에서 회의가 겹치지 않도록 스케줄을 관리하는 문제를 스위핑 알고리즘으로 해결할 수 있습니다.

> 데이터 분석

대량의 데이터에서 특정 조건을 만족하는 데이터 포인트를 효율적으로 찾는 문제에서도 스위핑 알고리즘이 유용합니다. 예를 들어, 주식 거래 데이터에서 특정 시간 구간 동안의 최대 거래량을 찾는 문제를 해결할 수 있습니다.

> 이벤트 드리븐 시뮬레이션

이벤트 기반 시뮬레이션에서 각 이벤트를 시간 순서대로 처리하여 시스템의 상태 변화를 추적할 수 있습니다. 예를 들어, 네트워크 패킷의 전송과 수신을 시뮬레이션하여 네트워크의 성능을 분석할 수 있습니다.

***

### 4. 스위핑 알고리즘의 구현

스위핑 알고리즘은 다양한 문제에 적용될 수 있습니다. 여기서는 선분 교차 여부를 확인하는 간단한 예제를 통해 스위핑 알고리즘의 구현을 설명하겠습니다.

> 예제 : 선분 교차 여부 확인

```cpp
#include <iostream>
#include <vector>
#include <set>
#include <algorithm>

struct Point {
    int x, y;
};

struct Segment {
    Point p1, p2;
};

struct Event {
    int x;
    int type; // 0: 시작점, 1: 끝점
    Segment* segment;

    bool operator<(const Event& other) const {
        if (x == other.x)
            return type < other.type;
        return x < other.x;
    }
};

bool doIntersect(const Segment& s1, const Segment& s2) {
    // 교차 여부를 판단하는 함수 (구현 생략)
    return true;
}

int main() {
    std::vector<Segment> segments = {
        {{0, 0}, {3, 3}},
        {{0, 3}, {3, 0}},
        {{1, 1}, {2, 2}}
    };

    std::vector<Event> events;
    for (auto& segment : segments) {
        events.push_back({segment.p1.x, 0, &segment});
        events.push_back({segment.p2.x, 1, &segment});
    }

    std::sort(events.begin(), events.end());

    std::set<Segment*> activeSegments;
    for (auto& event : events) {
        if (event.type == 0) {
            for (auto& segment : activeSegments) {
                if (doIntersect(*event.segment, *segment)) {
                    std::cout << "Segments intersect!" << std::endl;
                }
            }
            activeSegments.insert(event.segment);
        } else {
            activeSegments.erase(event.segment);
        }
    }

    return 0;
}
```

> 데이터 구조 정의

* `Point`: 점을 나타내는 구조체입니다.
* `Segment`: 선분을 나타내는 구조체입니다.
* `Event`: 이벤트를 나타내는 구조체입니다. x좌표와 이벤트 타입 (시작점 또는 끝점), 그리고 해당 선분을 가리킵니다.

> 이벤트 준비

* 각 선분의 시작점과 끝점을 이벤트로 변환하여 이벤트 큐에 삽입합니다.
* 이벤트 큐를 x좌표 기준으로 정렬합니다.

> 이벤트 처리

* 이벤트 큐에서 이벤트를 하나씩 처리합니다.
* 시작점 이벤트인 경우, 활성 리스트에 해당 선분을 추가하고 교차 여부를 검사합니다.
* 끝점 이벤트인 경우, 활성 리스트에서 해당 선분을 제거합니다.

***

### 5. 스위핑 알고리즘의 장점
> 효율성

* **시간 복잡도**: 일반적으로 $O(nlogn)$ 의 시간 복잡도를 가지며, 이는 많은 문제에서 효율적인 성능을 제공합니다.
* **공간 복잡도**: 필요에 따라 적절한 데이터 구조를 사용하여 공간 복잡도를 최적화할 수 있습니다.

> 간결성

* **코드의 간결성**: 이벤트 기반으로 문제를 해결하므로, 코드가 비교적 단순하고 직관적입니다.
* **유지보수성**: 각 이벤트를 독립적으로 처리하므로, 코드의 유지보수가 용이합니다.

> 다양한 응용 분야

스위핑 알고리즘은 기하학 문제 이외에도 문자열 처리, 스케줄링, 데이터 분석, 이벤트 드리븐 시뮬레이션 등 다양한 분야에서 응용될 수 있습니다. 이는 스위핑 알고리즘이 **문제 해결에 있어 강력한 도구**임을 보여줍니다.

***

### 6. 결론

스위핑 알고리즘은 2차원 **기하학적 문제를 효율적으로 해결하는 강력한 도구**입니다. 이 알고리즘은 이벤트 기반으로 문제를 처리하여 시간 복잡도를 최적화하고, 코드의 간결성과 유지보수성을 높입니다. 선분 교차 문제, 문자열 처리, 스케줄링, 데이터 분석 등 다양한 문제에서 스위핑 알고리즘을 활용할 수 있습니다.

스위핑 알고리즘을 이해하고 구현해 보면서, 기하학적 문제 해결에 있어 이 알고리즘의 강력한 도구로서의 역할을 체험해 보시기 바랍니다. 앞으로의 문제 해결 과정에서 스위핑 알고리즘을 적절히 활용하여 효율적인 해결책을 도출할 수 있을 것입니다.
